<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-content="pageTitle">CP1256 Character Explorer - Arabic OS</title>
    <style>
        :root {
            --primary-color: #2E7D32;
            --secondary-color: #388E3C;
            --accent-color: #FFC107;
            --text-color: #212121;
            --bg-color: #F5F5F5;
            --card-bg: #FFFFFF;
            --border-color: #E0E0E0;
            --hover-color: #E8F5E8;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
        }

        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 1.5rem 0;
            text-align: center;
        }

        .header h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem;
        }

        .controls {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 12px;
            margin: 1rem 0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            align-items: center;
        }

        .controls select, .controls input {
            padding: 0.5rem 1rem;
            border: 2px solid var(--border-color);
            border-radius: 6px;
            font-size: 1rem;
        }

        .controls select:focus, .controls input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .char-grid {
            display: grid;
            grid-template-columns: repeat(16, 1fr);
            gap: 2px;
            background: var(--card-bg);
            padding: 1rem;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin: 1rem 0;
        }

        .char-cell {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f9f9f9;
            border: 1px solid var(--border-color);
            cursor: pointer;
            font-family: 'Arial Unicode MS', 'Tahoma', monospace;
            font-size: 1.2rem;
            transition: all 0.2s ease;
            position: relative;
        }

        .char-cell:hover {
            background: var(--hover-color);
            transform: scale(1.1);
            z-index: 10;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .char-cell.ascii {
            background: #E3F2FD;
        }

        .char-cell.arabic {
            background: #FFF3E0;
        }

        .char-cell.extended {
            background: #F3E5F5;
        }

        .char-cell.selected {
            background: var(--primary-color);
            color: white;
        }

        .hex-label {
            font-size: 0.7rem;
            color: #666;
            position: absolute;
            bottom: 2px;
            right: 2px;
        }

        .info-panel {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin: 1rem 0;
        }

        .char-info, .properties-info {
            background: var(--card-bg);
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .char-display {
            font-size: 4rem;
            text-align: center;
            padding: 1rem;
            background: var(--bg-color);
            border-radius: 8px;
            margin-bottom: 1rem;
            font-family: 'Arial Unicode MS', 'Tahoma', sans-serif;
        }

        .property-row {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--border-color);
        }

        .property-row:last-child {
            border-bottom: none;
        }

        .property-label {
            font-weight: 600;
            color: var(--primary-color);
        }

        .legend {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            margin: 1rem 0;
            padding: 1rem;
            background: var(--card-bg);
            border-radius: 12px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            border: 1px solid var(--border-color);
        }

        .search-highlight {
            background: var(--accent-color) !important;
            animation: pulse 1s ease-in-out;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .back-link {
            display: inline-block;
            margin-top: 2rem;
            padding: 0.8rem 2rem;
            background: var(--primary-color);
            color: white;
            text-decoration: none;
            border-radius: 6px;
            transition: background 0.3s ease;
        }

        .back-link:hover {
            background: var(--secondary-color);
        }

        @media (max-width: 768px) {
            .char-grid {
                grid-template-columns: repeat(8, 1fr);
            }

            .info-panel {
                grid-template-columns: 1fr;
            }

            .controls {
                flex-direction: column;
                align-items: stretch;
            }

            .legend {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <h1 data-content="headerTitle">🔤 CP1256 Character Explorer</h1>
        <p data-content="headerDescription">Interactive exploration of CP1256 Arabic character encoding</p>
    </header>

    <div class="container">
        <div class="controls">
            <label for="rangeSelect" data-content="controls.rangeLabel">Range:</label>
            <select id="rangeSelect">
                <option value="all" data-content="ranges.allCharacters">All Characters (0x00-0xFF)</option>
                <option value="ascii" data-content="ranges.asciiRange">ASCII Range (0x00-0x7F)</option>
                <option value="extended" data-content="ranges.extendedRange">Extended Range (0x80-0xFF)</option>
                <option value="arabic" data-content="ranges.arabicLetters">Arabic Letters (0xC0-0xE4)</option>
                <option value="numerals" data-content="ranges.arabicNumerals">Arabic Numerals (0xF1-0xFA)</option>
            </select>

            <label for="searchChar" data-content="controls.searchLabel">Search:</label>
            <input type="text" id="searchChar" data-content="placeholders.searchChar" placeholder="Enter character or hex (e.g., ا or 0xC6)" maxlength="5">

            <label for="showHex">
                <input type="checkbox" id="showHex" checked> <span data-content="controls.showHexLabel">Show hex codes</span>
            </label>
        </div>

        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background: #E3F2FD;"></div>
                <span data-content="legend.ascii">ASCII (0x00-0x7F)</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #FFF3E0;"></div>
                <span data-content="legend.arabicLetters">Arabic Letters</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #F3E5F5;"></div>
                <span data-content="legend.extendedRange">Extended Range</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: var(--primary-color);"></div>
                <span data-content="legend.selectedCharacter">Selected Character</span>
            </div>
        </div>

        <div class="char-grid" id="charGrid">
            <!-- Characters will be populated by JavaScript -->
        </div>

        <div class="info-panel">
            <div class="char-info">
                <h3 data-content="characterInfo.title">Character Information</h3>
                <div class="char-display" id="charDisplay" data-content="characterInfo.clickPrompt">Click a character above</div>
                <div id="charDetails">
                    <div class="property-row">
                        <span class="property-label" data-content="characterInfo.character">Character:</span>
                        <span id="charValue">-</span>
                    </div>
                    <div class="property-row">
                        <span class="property-label" data-content="characterInfo.cp1256Code">CP1256 Code:</span>
                        <span id="cp1256Code">-</span>
                    </div>
                    <div class="property-row">
                        <span class="property-label" data-content="characterInfo.unicode">Unicode:</span>
                        <span id="unicodeValue">-</span>
                    </div>
                    <div class="property-row">
                        <span class="property-label" data-content="characterInfo.description">Description:</span>
                        <span id="charDescription">-</span>
                    </div>
                </div>
            </div>

            <div class="properties-info">
                <h3 data-content="arabicProperties.title">Arabic Properties</h3>
                <div id="arabicProperties">
                    <div class="property-row">
                        <span class="property-label" data-content="arabicProperties.script">Script:</span>
                        <span id="scriptType">-</span>
                    </div>
                    <div class="property-row">
                        <span class="property-label" data-content="arabicProperties.joiningType">Joining Type:</span>
                        <span id="joiningType">-</span>
                    </div>
                    <div class="property-row">
                        <span class="property-label" data-content="arabicProperties.direction">Direction:</span>
                        <span id="textDirection">-</span>
                    </div>
                    <div class="property-row">
                        <span class="property-label" data-content="arabicProperties.category">Category:</span>
                        <span id="charCategory">-</span>
                    </div>
                </div>
            </div>
        </div>

        <a href="index.html" class="back-link" data-content="navigation.backToLearning">← Back to Interactive Learning Platform</a>
    </div>

    <script>
        // CP1256 to Unicode mapping
        const cp1256ToUnicode = {
            // ASCII range (0x00-0x7F) maps directly
            // Extended range mappings
            0x80: 0x20AC, 0x81: 0x067E, 0x82: 0x201A, 0x83: 0x0192, 0x84: 0x201E, 0x85: 0x2026, 0x86: 0x2020, 0x87: 0x2021,
            0x88: 0x02C6, 0x89: 0x2030, 0x8A: 0x0679, 0x8B: 0x2039, 0x8C: 0x0152, 0x8D: 0x0686, 0x8E: 0x0698, 0x8F: 0x0688,
            0x90: 0x06AF, 0x91: 0x2018, 0x92: 0x2019, 0x93: 0x201C, 0x94: 0x201D, 0x95: 0x2022, 0x96: 0x2013, 0x97: 0x2014,
            0x98: 0x06A9, 0x99: 0x2122, 0x9A: 0x0691, 0x9B: 0x203A, 0x9C: 0x0153, 0x9D: 0x200C, 0x9E: 0x200D, 0x9F: 0x06BA,
            0xA0: 0x00A0, 0xA1: 0x060C, 0xA2: 0x00A2, 0xA3: 0x00A3, 0xA4: 0x00A4, 0xA5: 0x00A5, 0xA6: 0x00A6, 0xA7: 0x00A7,
            0xA8: 0x00A8, 0xA9: 0x00A9, 0xAA: 0x06BE, 0xAB: 0x00AB, 0xAC: 0x00AC, 0xAD: 0x00AD, 0xAE: 0x00AE, 0xAF: 0x00AF,
            0xB0: 0x00B0, 0xB1: 0x00B1, 0xB2: 0x00B2, 0xB3: 0x00B3, 0xB4: 0x00B4, 0xB5: 0x00B5, 0xB6: 0x00B6, 0xB7: 0x00B7,
            0xB8: 0x00B8, 0xB9: 0x00B9, 0xBA: 0x061B, 0xBB: 0x00BB, 0xBC: 0x00BC, 0xBD: 0x00BD, 0xBE: 0x00BE, 0xBF: 0x061F,
            0xC0: 0x06C1, 0xC1: 0x0621, 0xC2: 0x0622, 0xC3: 0x0623, 0xC4: 0x0624, 0xC5: 0x0625, 0xC6: 0x0626, 0xC7: 0x0627,
            0xC8: 0x0628, 0xC9: 0x0629, 0xCA: 0x062A, 0xCB: 0x062B, 0xCC: 0x062C, 0xCD: 0x062D, 0xCE: 0x062E, 0xCF: 0x062F,
            0xD0: 0x0630, 0xD1: 0x0631, 0xD2: 0x0632, 0xD3: 0x0633, 0xD4: 0x0634, 0xD5: 0x0635, 0xD6: 0x0636, 0xD7: 0x0637,
            0xD8: 0x0638, 0xD9: 0x0639, 0xDA: 0x063A, 0xDB: 0x0640, 0xDC: 0x0641, 0xDD: 0x0642, 0xDE: 0x0643, 0xDF: 0x0644,
            0xE0: 0x0645, 0xE1: 0x0646, 0xE2: 0x0647, 0xE3: 0x0648, 0xE4: 0x0649, 0xE5: 0x064A, 0xE6: 0x064B, 0xE7: 0x064C,
            0xE8: 0x064D, 0xE9: 0x064E, 0xEA: 0x064F, 0xEB: 0x0650, 0xEC: 0x0651, 0xED: 0x0652, 0xEE: 0x0670, 0xEF: 0x0671,
            0xF0: 0x0660, 0xF1: 0x0661, 0xF2: 0x0662, 0xF3: 0x0663, 0xF4: 0x0664, 0xF5: 0x0665, 0xF6: 0x0666, 0xF7: 0x0667,
            0xF8: 0x0668, 0xF9: 0x0669, 0xFA: 0x066A, 0xFB: 0x066B, 0xFC: 0x066C, 0xFD: 0x066D, 0xFE: 0x066E, 0xFF: 0x066F
        };

        // Character descriptions
        const charDescriptions = {
            0xC1: "Arabic Letter Hamza",
            0xC2: "Arabic Letter Alef with Hamza Above",
            0xC3: "Arabic Letter Waw with Hamza Above",
            0xC4: "Arabic Letter Alef with Hamza Below",
            0xC5: "Arabic Letter Yeh with Hamza Above",
            0xC6: "Arabic Letter Alef",
            0xC7: "Arabic Letter Beh",
            0xC8: "Arabic Letter Teh Marbuta",
            0xC9: "Arabic Letter Teh",
            0xCA: "Arabic Letter Theh",
            0xCB: "Arabic Letter Jeem",
            0xCC: "Arabic Letter Hah",
            0xCD: "Arabic Letter Khah",
            0xCE: "Arabic Letter Dal",
            0xCF: "Arabic Letter Thal",
            0xD0: "Arabic Letter Reh",
            0xD1: "Arabic Letter Zain",
            0xD2: "Arabic Letter Seen",
            0xD3: "Arabic Letter Sheen",
            0xD4: "Arabic Letter Sad",
            0xD5: "Arabic Letter Dad",
            0xD6: "Arabic Letter Tah",
            0xD7: "Arabic Letter Zah",
            0xD8: "Arabic Letter Ain",
            0xD9: "Arabic Letter Ghain",
            0xDC: "Arabic Letter Feh",
            0xDD: "Arabic Letter Qaf",
            0xDE: "Arabic Letter Kaf",
            0xDF: "Arabic Letter Lam",
            0xE0: "Arabic Letter Meem",
            0xE1: "Arabic Letter Noon",
            0xE2: "Arabic Letter Heh",
            0xE3: "Arabic Letter Waw",
            0xE4: "Arabic Letter Alef Maksura",
            0xE5: "Arabic Letter Yeh",
            0xF1: "Arabic-Indic Digit One",
            0xF2: "Arabic-Indic Digit Two",
            0xF3: "Arabic-Indic Digit Three",
            0xF4: "Arabic-Indic Digit Four",
            0xF5: "Arabic-Indic Digit Five",
            0xF6: "Arabic-Indic Digit Six",
            0xF7: "Arabic-Indic Digit Seven",
            0xF8: "Arabic-Indic Digit Eight",
            0xF9: "Arabic-Indic Digit Nine",
            0xFA: "Arabic-Indic Digit Zero"
        };

        // Joining types for Arabic characters
        const joiningTypes = {
            0xC1: "Non-joining", 0xC2: "Right-joining", 0xC3: "Right-joining", 0xC4: "Right-joining",
            0xC5: "Dual-joining", 0xC6: "Right-joining", 0xC7: "Dual-joining", 0xC8: "Right-joining",
            0xC9: "Dual-joining", 0xCA: "Dual-joining", 0xCB: "Dual-joining", 0xCC: "Dual-joining",
            0xCD: "Dual-joining", 0xCE: "Right-joining", 0xCF: "Right-joining", 0xD0: "Right-joining",
            0xD1: "Right-joining", 0xD2: "Dual-joining", 0xD3: "Dual-joining", 0xD4: "Dual-joining",
            0xD5: "Dual-joining", 0xD6: "Dual-joining", 0xD7: "Dual-joining", 0xD8: "Dual-joining",
            0xD9: "Dual-joining", 0xDC: "Dual-joining", 0xDD: "Dual-joining", 0xDE: "Dual-joining",
            0xDF: "Dual-joining", 0xE0: "Dual-joining", 0xE1: "Dual-joining", 0xE2: "Dual-joining",
            0xE3: "Right-joining", 0xE4: "Dual-joining", 0xE5: "Dual-joining"
        };

        let selectedChar = null;

        function getCharCategory(code) {
            if (code <= 0x7F) return 'ascii';
            if (code >= 0xC1 && code <= 0xE5) return 'arabic';
            if (code >= 0xF1 && code <= 0xFA) return 'arabic';
            return 'extended';
        }

        function getUnicodeChar(cp1256Code) {
            if (cp1256Code <= 0x7F) {
                return String.fromCharCode(cp1256Code);
            }
            const unicode = cp1256ToUnicode[cp1256Code];
            return unicode ? String.fromCharCode(unicode) : '?';
        }

        function createCharGrid(startCode = 0, endCode = 255) {
            const grid = document.getElementById('charGrid');
            grid.innerHTML = '';

            for (let i = startCode; i <= endCode; i++) {
                const cell = document.createElement('div');
                cell.className = `char-cell ${getCharCategory(i)}`;
                cell.dataset.code = i;

                const char = getUnicodeChar(i);
                cell.textContent = (i < 32 || i === 127) ? '' : char; // Skip control characters

                if (document.getElementById('showHex').checked) {
                    const hexLabel = document.createElement('div');
                    hexLabel.className = 'hex-label';
                    hexLabel.textContent = i.toString(16).toUpperCase().padStart(2, '0');
                    cell.appendChild(hexLabel);
                }

                cell.addEventListener('click', () => selectCharacter(i));
                grid.appendChild(cell);
            }
        }

        function selectCharacter(code) {
            // Remove previous selection
            document.querySelectorAll('.char-cell').forEach(cell => {
                cell.classList.remove('selected');
            });

            // Add selection to clicked character
            const cell = document.querySelector(`[data-code="${code}"]`);
            if (cell) {
                cell.classList.add('selected');
            }

            selectedChar = code;
            updateCharacterInfo(code);
        }

        function updateCharacterInfo(code) {
            const char = getUnicodeChar(code);
            const unicode = cp1256ToUnicode[code] || (code <= 0x7F ? code : null);

            // Use translated content if available
            const controlText = contentLoader && contentLoader.getText ?
                contentLoader.getText('messages.controlCharacter') : '(control)';

            document.getElementById('charDisplay').textContent = (code < 32 || code === 127) ? controlText : char;
            document.getElementById('charValue').textContent = char;
            document.getElementById('cp1256Code').textContent = `0x${code.toString(16).toUpperCase().padStart(2, '0')} (${code})`;
            document.getElementById('unicodeValue').textContent = unicode ? `U+${unicode.toString(16).toUpperCase().padStart(4, '0')}` : 'N/A';
            document.getElementById('charDescription').textContent = charDescriptions[code] || 'Standard character';

            // Arabic properties
            const isArabic = code >= 0xC1 && code <= 0xE5;
            const isArabicNumeral = code >= 0xF1 && code <= 0xFA;

            // Get translated text values
            const getTranslatedText = (key, fallback) => {
                return contentLoader && contentLoader.getText ? contentLoader.getText(key) : fallback;
            };

            // Script type
            let scriptType = 'Other';
            if (isArabic || isArabicNumeral) {
                scriptType = getTranslatedText('scripts.arabic', 'Arabic');
            } else if (code <= 0x7F) {
                scriptType = getTranslatedText('scripts.latin', 'Latin');
            } else {
                scriptType = getTranslatedText('scripts.other', 'Other');
            }
            document.getElementById('scriptType').textContent = scriptType;

            // Joining type
            let joiningType = 'N/A';
            if (joiningTypes[code]) {
                const joiningTypeKey = joiningTypes[code].toLowerCase().replace('-', '');
                const joiningTypeMap = {
                    'nonjoining': 'joiningTypes.nonJoining',
                    'rightjoining': 'joiningTypes.rightJoining',
                    'dualjoining': 'joiningTypes.dualJoining',
                    'leftjoining': 'joiningTypes.leftJoining'
                };
                joiningType = getTranslatedText(joiningTypeMap[joiningTypeKey], joiningTypes[code]);
            } else if (isArabic) {
                joiningType = getTranslatedText('joiningTypes.nonJoining', 'Non-joining');
            } else {
                joiningType = getTranslatedText('joiningTypes.notApplicable', 'N/A');
            }
            document.getElementById('joiningType').textContent = joiningType;

            // Text direction
            const direction = isArabic || isArabicNumeral ?
                getTranslatedText('directions.rightToLeft', 'Right-to-Left') :
                getTranslatedText('directions.leftToRight', 'Left-to-Right');
            document.getElementById('textDirection').textContent = direction;

            // Category
            let category = getTranslatedText('categories.other', 'Other');
            if (code <= 0x7F && code >= 32) {
                category = getTranslatedText('categories.asciiPrintable', 'ASCII Printable');
            } else if (code < 32 || code === 127) {
                category = getTranslatedText('categories.controlCharacter', 'Control Character');
            } else if (isArabic) {
                category = getTranslatedText('categories.arabicLetter', 'Arabic Letter');
            } else if (isArabicNumeral) {
                category = getTranslatedText('categories.arabicNumeral', 'Arabic Numeral');
            } else if (code >= 0xE6 && code <= 0xEF) {
                category = getTranslatedText('categories.arabicDiacritic', 'Arabic Diacritic');
            }
            document.getElementById('charCategory').textContent = category;
        }

        function filterCharacters(range) {
            let start = 0, end = 255;

            switch (range) {
                case 'ascii':
                    start = 0; end = 127;
                    break;
                case 'extended':
                    start = 128; end = 255;
                    break;
                case 'arabic':
                    start = 192; end = 228; // 0xC0 to 0xE4
                    break;
                case 'numerals':
                    start = 241; end = 250; // 0xF1 to 0xFA
                    break;
                default:
                    start = 0; end = 255;
            }

            createCharGrid(start, end);
        }

        function searchCharacter(query) {
            // Remove previous highlights
            document.querySelectorAll('.search-highlight').forEach(cell => {
                cell.classList.remove('search-highlight');
            });

            if (!query) return;

            let code = null;

            // Check if it's a hex code
            if (query.startsWith('0x') || query.startsWith('0X')) {
                code = parseInt(query, 16);
            } else if (query.length === 1) {
                // Single character - find its CP1256 code
                const char = query;
                for (let i = 0; i <= 255; i++) {
                    if (getUnicodeChar(i) === char) {
                        code = i;
                        break;
                    }
                }
            } else {
                // Try to parse as decimal
                const decimal = parseInt(query);
                if (!isNaN(decimal) && decimal >= 0 && decimal <= 255) {
                    code = decimal;
                }
            }

            if (code !== null && code >= 0 && code <= 255) {
                const cell = document.querySelector(`[data-code="${code}"]`);
                if (cell) {
                    cell.classList.add('search-highlight');
                    cell.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    selectCharacter(code);
                }
            }
        }

        // Event listeners
        document.getElementById('rangeSelect').addEventListener('change', (e) => {
            filterCharacters(e.target.value);
        });

        document.getElementById('showHex').addEventListener('change', () => {
            const range = document.getElementById('rangeSelect').value;
            filterCharacters(range);
        });

        document.getElementById('searchChar').addEventListener('input', (e) => {
            searchCharacter(e.target.value.trim());
        });

        // Initialize
        createCharGrid();
        selectCharacter(0xC7); // Select Arabic letter Beh as default
    </script>

    <!-- Content Loading System -->
    <script src="js/language-switcher.js"></script>
    <script src="js/content-loader.js"></script>
    <script>
        // Initialize content loading
        async function initializePage() {
            const toolName = 'cp1256_explorer';
            const currentLanguage = languageSwitcher.getCurrentLanguage();

            try {
                await contentLoader.loadContent(toolName, currentLanguage);
                contentLoader.applyContent();
                console.log('✅ CP1256 Explorer content loaded successfully');

                // Register with language switcher for future changes
                languageSwitcher.onLanguageChange(async (newLang) => {
                    console.log(`🔄 CP1256 Explorer language change requested: ${newLang}`);
                    try {
                        await contentLoader.loadContent(toolName, newLang);
                        contentLoader.applyContent();
                        console.log(`✅ CP1256 Explorer switched to ${newLang} content successfully`);
                    } catch (error) {
                        console.error(`❌ Failed to switch CP1256 Explorer to ${newLang}:`, error);
                    }
                });
            } catch (error) {
                console.error('❌ Failed to initialize CP1256 Explorer content:', error);
            }
        }

        // Initialize when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializePage);
        } else {
            initializePage();
        }
    </script>
</body>
</html>